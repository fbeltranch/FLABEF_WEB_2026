PROMPT PARA REPLIT â€“ CREAR ECOMMERCE COMPLETO FLABEF CON SISTEMA AVANZADO DE AUTENTICACIÃ“N

Quiero que generes un E-commerce completo llamado FLABEF, programado en [ESPECIFICA TU STACK: Node.js + Express | Next.js | React + API | Python Django | Laravel | etc.], con las siguientes caracterÃ­sticas obligatorias.

ğŸ›’ 1. MÃ³dulo de Registro

Crear un sistema de registro con estos campos obligatorios:

Nombre completo

DNI peruano (8 dÃ­gitos, Ãºnico, validado)

Email Ãºnico y verificado

TelÃ©fono o WhatsApp

ContraseÃ±a segura (mÃ­nimo 8 caracteres, mayÃºsculas, minÃºsculas, nÃºmeros)

Confirmar contraseÃ±a

DirecciÃ³n (opcional aquÃ­, obligatorio al comprar)

Validaciones:

DNI Ãºnico

Email Ãºnico

ContraseÃ±a segura

TelÃ©fono con formato vÃ¡lido

ğŸ” 2. Sistema Completo de RecuperaciÃ³n de ContraseÃ±a (3 MÃ©todos)

Implementar tres mÃ©todos:

ğŸ”¸ MÃ©todo 1: DNI + Email (Principal)

Flujo exacto:

Usuario hace clic en â€œÂ¿Olvidaste tu contraseÃ±a?â€

Ingresa DNI + email

Sistema valida coincidencia

EnvÃ­a email con:

CÃ³digo OTP de 6 dÃ­gitos

Link de recuperaciÃ³n (1 solo uso)

IP, fecha y hora

Usuario ingresa cÃ³digo o abre link

Crea nueva contraseÃ±a

ConfirmaciÃ³n + redirecciÃ³n

ğŸ”¸ MÃ©todo 2: Solo Email

Ingresa email

Recibe cÃ³digo + link

Ingresa cÃ³digo

Establece nueva contraseÃ±a

ğŸ”¸ MÃ©todo 3: Solo DNI (Backup)

Ingresa DNI

Sistema muestra email enmascarado

Usuario confirma

EnvÃ­a el cÃ³digo al email real

ğŸ›¡ï¸ 3. Seguridad del Sistema

Implementar:

Rate limiting: mÃ¡ximo 3 intentos por hora

CÃ³digos OTP que expiran en 15 minutos

Tokens de recuperaciÃ³n de un solo uso

DetecciÃ³n de IP sospechosas

Historial de cambios de contraseÃ±a

Email cuando se cambia la contraseÃ±a

Bloqueo temporal despuÃ©s de 5 intentos fallidos

ValidaciÃ³n estricta del DNI

ğŸ‘¨â€ğŸ’¼ 4. Sistema de RecuperaciÃ³n para Administradores (Roles)

Tres niveles:

â­ SUPER ADMIN (Nivel 1)

RecuperaciÃ³n por DNI + Email

Pregunta de seguridad adicional

2FA opcional

NotificaciÃ³n a todos los Super Admins

OpciÃ³n de verificaciÃ³n por WhatsApp

ADMIN GESTOR (Nivel 2)
ADMIN BÃSICO (Nivel 3)

RecuperaciÃ³n por DNI + Email

NotificaciÃ³n al Super Admin

Puede requerir aprobaciÃ³n del Super Admin

ğŸ”’ 5. Panel de Seguridad del Super Admin

Debe incluir:

Lista de todos los intentos de recuperaciÃ³n con:

Fecha

IP

UbicaciÃ³n

Resultado

Control de usuarios bloqueados

Resetear contraseÃ±a manualmente

Configurar polÃ­ticas de seguridad:

ExpiraciÃ³n de OTP

Intentos permitidos

Tiempo de bloqueo

Activar/desactivar 2FA

Logs de seguridad completos

Registros de accesos sospechosos

ğŸ“§ 6. Emails AutomÃ¡ticos (Templates HTML)

Crear plantillas completas:

Email de bienvenida

Email de recuperaciÃ³n (OTP + link)

ConfirmaciÃ³n de cambio de contraseÃ±a

Alerta de seguridad para administradores

Servicios aceptados:

Resend (preferido)

SendGrid

Nodemailer + Gmail SMTP

ğŸ—„ï¸ 7. Base de Datos (Tablas Exactas)

Agregar estas tablas:

users

id

nombre_completo

dni

email

telefono

password_hash

direccion

rol (cliente, admin_basico, admin_gestor, super_admin)

activo

bloqueado

intentos_fallidos

ultimo_intento

pregunta_seguridad

respuesta_seguridad_hash

fecha_registro

ultima_conexion

password_reset_tokens

user_id

token

cÃ³digo

expira_en

IP

usado

fecha_creaciÃ³n

security_logs

user_id

acciÃ³n

IP

Ã©xito / fallo

user_agent

fecha

active_sessions

user_id

token

IP

expiraciÃ³n

ğŸ¨ 8. Interfaz UI de RecuperaciÃ³n

Crear pantallas limpias y modernas:

Pantalla principal â€œÂ¿Olvidaste tu contraseÃ±a?â€

Formulario de recuperaciÃ³n

Pantalla OTP (cÃ³digo de 6 dÃ­gitos con contador regresivo)

Crear nueva contraseÃ±a

ConfirmaciÃ³n con animaciÃ³n de Ã©xito

Requisitos:

ValidaciÃ³n en tiempo real

Indicador de seguridad de contraseÃ±a

BotÃ³n mostrar/ocultar contraseÃ±a

Reenviar cÃ³digo despuÃ©s de 1 minuto

ğŸ“± 9. RecuperaciÃ³n por WhatsApp (Opcional)

Flujo alternativo:

Usuario contacta soporte

Admin verifica datos

Super Admin genera link temporal

Link vÃ¡lido por 30 minutos

ğŸš€ 10. Flujo Completo
CLIENTE:

Registro â†’ Email bienvenida â†’ Login
Olvida contraseÃ±a â†’ Ingresa datos â†’ Recupera â†’ Login

ADMIN:

Creado por Super Admin â†’ Cambia contraseÃ±a obligatoria
Olvida contraseÃ±a â†’ ValidaciÃ³n extra â†’ NotificaciÃ³n â†’ Recupera

âœ¨ 11. Extras de Seguridad Obligatorios

Captcha

Honeypot anti-bots

EncriptaciÃ³n de DNI y telÃ©fono

Cumplimiento GDPR

TÃ©rminos y condiciones con checkbox

Doble verificaciÃ³n de email opcional

JWT para sesiones

Logout por inactividad (30 min)

NotificaciÃ³n cuando inicia sesiÃ³n desde nuevo dispositivo

ğŸ¯ OBJETIVO FINAL

Generar en Replit:

Backend completo

Frontend completo

Base de datos

Endpoints de la API

Sistema de correo

Panel de administraciÃ³n

UI para clientes

LÃ³gica de seguridad avanzada

DocumentaciÃ³n